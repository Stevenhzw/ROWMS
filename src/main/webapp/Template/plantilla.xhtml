<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
        PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:b="http://bootsfaces.net/ui"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:head>
   <title>ROWMS Working Website</title>
   <h:outputStylesheet name="css/bootstrap.min.css"/>
   <h:outputStylesheet name="css/alertify.core.css"/>
   <h:outputStylesheet name="css/alertify.default.css"/>
   <h:outputScript name="js/alertify.js"
   />
</h:head>

<h:body>
   <h:form>
      <p:menubar brand="ROWMS Working Website" brandHref="#" inverse="true">


            <p:submenu  label="Empresa" icon="pi pi-fw pi-briefcase" rendered="#{loginBean.empresaAutenticada.rol=='adminEmpresa' or loginBean.usuarioAutenticado.rol=='administrador'}">
               <p:menuitem   value="Ver Dependientes" outcome="/AdminEmpresa/ListarDependientes"/>
               <p:menuitem   value="Editar Perfil Empresa" outcome="/AdminEmpresa/EditarEmpresa"/>
               <p:menuitem   value="Solicitudes de Plazas" outcome="/AdminEmpresa/EstadoPlaza"/>
               <p:menuitem   value="Crear un Dependiente" outcome="/AdminEmpresa/CrearDependiente"/>
            </p:submenu>

            <p:submenu  label="Dependientes"  icon="pi pi-fw pi-folder-open" rendered="#{loginBean.empresaAutenticada.rol=='adminEmpresa' or loginBean.usuarioAutenticado.rol=='administrador' or loginBean.usuarioAutenticado.rol=='dependiente'}" >
               <p:menuitem  value="Ver Plazas" outcome="/Dependiente/VerPlazas"/>
               <p:menuitem  value="Crear solicitud de Plaza" outcome="/Dependiente/CrearPlaza"/>

            </p:submenu >

            <p:submenu  label="Administrador"  icon="pi pi-fw pi-lock" rendered="#{loginBean.usuarioAutenticado.rol=='administrador'}">
               <p:menuitem  value="Usuarios" outcome="/Administrador/ListarUsuarios"/>
               <p:menuitem  value="Dependientes" outcome="/AdminEmpresa/ListarDependientes"/>
               <p:menuitem  value="Crear Empresa" outcome="/Administrador/CrearEmpresa"/>
               <p:menuitem  value="Empresas" outcome="/Administrador/ListarEmpresas"/>
               <p:menuitem  value="Plazas" outcome="/Administrador/ListarPlazas"/>
            </p:submenu >

            <p:menuitem value="Mi perfil" icon="pi pi-fw pi-user" outcome="/Usuario/VerUsuario" rendered="#{loginBean.usuarioAutenticado.correo!=null  or loginBean.empresaAutenticada.correoEmpresa!=null}"/>

            <p:menuitem value="Iniciar sesion" icon="pi pi-fw pi-sign-in" outcome="/login"
                       rendered="#{loginBean.usuarioAutenticado.correo==null and loginBean.empresaAutenticada.correoEmpresa==null}"/>

            <p:menuitem value="Registrarse" icon="pi pi-fw pi-sign-in" outcome="/register"
                       rendered="#{loginBean.usuarioAutenticado.correo==null and loginBean.empresaAutenticada.correoEmpresa==null}"/>

            <p:menuitem value="Cerrar Sesión" action="#{loginBean.cerrarSesion}" icon="pi pi-fw pi-sign-out" ajax="false"
                              rendered="#{loginBean.usuarioAutenticado.correo!=null or loginBean.empresaAutenticada.correoEmpresa!=null}"/>



      </p:menubar>
   </h:form>




   <ui:insert name="content">
      Contenido por defecto
   </ui:insert>

   <br></br>
   <p class="text-center text-muted">© 2023 ROWMS, DWF404</p>


</h:body>

</html>