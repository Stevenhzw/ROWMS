<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        template="../Template/plantilla.xhtml">

    <ui:define name="content">
        <h:head>
            <title>Registrar Dependiente</title>
        </h:head>
        <h1>Registrar Dependiente</h1>
        <div class="container h-100">
            <div class="row h-100 justify-content-center align-items-center">
                <div class="col-md-6">
                    <p:panel header="Registro" styleClass="p-panel-info">
                        <h:form class="form" role="form">
                            <h:panelGroup layout="block" styleClass="alert alert-danger"
                                          rendered="#{not empty facesContext.messageList}">
                                <h:messages />
                            </h:panelGroup>

                            <div class="form-group">
                                <h:outputLabel for="dui">DUI:</h:outputLabel>
                                <h:inputText id="dui" value="#{usuariosBean.usuario.dui}" required="true" class="form-control" validatorMessage="Debe ser: XXXXXXXX-X">
                                    <f:validateRegex pattern="[0-9]{8}-[0-9]" />
                                </h:inputText>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="nombre">Nombre:</h:outputLabel>
                                <h:inputText id="nombre" value="#{usuariosBean.usuario.nombre}" required="true" class="form-control" pattern="^[A-Za-z]+$" title="Ingrese solo letras"/>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="apellido">Apellido:</h:outputLabel>
                                <h:inputText id="apellido" value="#{usuariosBean.usuario.apellido}" required="true" class="form-control" pattern="^[A-Za-z]+$" title="Ingrese solo letras"/>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="edad">Edad:</h:outputLabel>
                                <h:inputText id="edad" value="#{usuariosBean.usuario.edad}" required="true" class="form-control" pattern="\d+" title="Debe ingresar un número" maxlength="2"/>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="genero">Genero:</h:outputLabel>
                                <h:selectOneMenu id="genero" value="#{usuariosBean.usuario.genero}" required="true" class="form-control">
                                    <f:selectItem itemLabel="Masculino" itemValue="Masculino" />
                                    <f:selectItem itemLabel="Femenino" itemValue="Femenino" />
                                </h:selectOneMenu>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="telefono">Telefono:</h:outputLabel>
                                <h:inputText id="telefono" value="#{usuariosBean.usuario.telefono}" required="true" class="form-control" validatorMessage="Debe ser: 7XXX-XXXX">
                                    <f:validateRegex pattern="[726][0-9]{3}-[0-9]{4}" />
                                </h:inputText>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="direccion">Dirección:</h:outputLabel>
                                <h:inputText id="direccion" value="#{usuariosBean.usuario.direccion}" required="true" class="form-control"/>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="expLaboral">Experiencia Laboral (en años):</h:outputLabel>
                                <h:inputText id="expLaboral" value="#{usuariosBean.usuario.expLaboral}" required="true" class="form-control" pattern="\d+" title="Debe ingresar un número" maxlength="2"/>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="gradoAcademico">Grado Academico:</h:outputLabel>
                                <h:selectOneMenu id="gradoAcademico" value="#{usuariosBean.usuario.gradoAcademico}" required="true" class="form-control">
                                    <f:selectItem itemLabel="Primaria" itemValue="Primaria" />
                                    <f:selectItem itemLabel="Bachillerato" itemValue="Bachillerato" />
                                    <f:selectItem itemLabel="Educación Superior" itemValue="Educacion superior" />
                                </h:selectOneMenu>
                            </div>


                            <div class="form-group">
                                <h:outputLabel for="correo">Correo Electronico:</h:outputLabel>
                                <h:inputText id="correo" value="#{usuariosBean.usuario.correo}" required="true" class="form-control" pattern="^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$" title="Ingrese un correo correcto"/>
                            </div>

                            <div class="form-group">
                                <h:outputLabel for="contraseña">Contraseña:</h:outputLabel>
                                <h:inputSecret id="contraseña" value="#{usuariosBean.usuario.contraseña}" required="true" class="form-control"/>
                            </div>

                            <h:commandButton class="btn btn-primary" value="Registrarse" action="#{usuariosBean.registrarNuevoDependiente(loginBean.empresaAutenticada.idEmpresa)}"/>
                        </h:form>
                        <h:outputScript>
                            <c:if test="#{not empty flash.exito}">
                                alertify.success('#{flash.exito}');
                            </c:if>
                        </h:outputScript>
                    </p:panel>
                </div>
            </div>
        </div>



    </ui:define>

</ui:composition>

